/*
 * validator - Form validation with jQuery
 *
 * Copyright (c) 2011 Media 309. (http://www.media309.com)
 */
(function(e){var h="";e.fn.extend({validator:function(i){if((typeof i=="object")||(i==undefined)){var k={flag:false,required:"",highlight:"",symbol:"*",footnote:'<p><span class="requiredFlag">*</span> <em>denotes a required field.</em></p>'};var j=e.extend(k,i);if(j.required!=""){a("requiredFlag",j.required)}if(j.highlight!=""){a("highlight",j.highlight)}if(i!=undefined){if(i.footnote!=undefined){j.footnote='<p><span class="requiredFlag">'+j.symbol+"</span> <em>"+i.footnote+"</em></p>"}else{if(i.symbol!=""){j.footnote=j.footnote.replace("*",j.symbol)}}}return this.each(function(){d(e(this),j);var l=false;e(this).submit(function(){l=true;h=b(e(this),j);if(h.length>0){if(j.error==undefined){c(h)}else{if(typeof j.error=="function"){j.error.call(this,h)}}return false}else{if((j.success!=undefined)&&(typeof j.success=="function")){j.success.call(this);if(j.submit==undefined){j.submit=false}}return j.submit}});e(this).bind("keyup",function(){if(l){h=b(e(this),j);if((j.live!=undefined)&&(typeof j.live=="function")){j.live.call(this,h)}}})})}else{switch(i){case"validate":return g(e(this));break;case"getErrors":return f();break}}}});function d(i,j){var k=false;i.find(":input.required").each(function(){if(e(this).attr("id")){var l=i.find("label[for="+e(this).attr("id")+"]");if(l.parent().html().indexOf('class="requiredFlag"')<0){k=true;l.after('<span class="requiredFlag">'+j.symbol+"</span>")}}});if(k){i.append(j.footnote)}}function b(k,l){var i=new Array();k.find(":input.required").each(function(){if(e(this).val()==""){var m=k.find("label[for="+e(this).attr("id")+"]").html();i.push({id:e(this).attr("id"),label:m,message:"<strong>"+m+"</strong> field is required."});e(this).addClass("highlight")}else{e(this).removeClass("highlight")}});var j="";k.find(":input.required").filter(".password").each(function(){if((j!="")&&(j.val()!=e(this).val())){i.push({id:e(this).attr("id"),message:"<strong>"+e("label[for="+j.attr("id")+"]").html()+"</strong> and <strong>"+e("label[for="+e(this).attr("id")+"]").html()+"</strong> are not equal."});last.addClass("highlight");e(this).addClass("highlight");return}j=e(this)});return i}function g(i){h=b(i);i.bind("keyup",function(){b(e(this))});return(h.length<=0)}function f(){return h}function a(i,j){if(e("style").length<1){e("head").append("<style></style>")}var k="";for(s in j){k+=s+": "+j[s]+";"}e("style").append("."+i+"{ "+k+" }")}function c(l){var k="Correct the following to proceed:\n\n";for(var j=0;j<l.length;j++){k+=" - "+l[j].label+" field is required.\n"}alert(k)}})(jQuery);